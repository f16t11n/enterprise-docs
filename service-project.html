<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Service: Project Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Load tasks from localStorage (simulate JSON persistence)
    let tasks = JSON.parse(localStorage.getItem("projectMgmtTasks")) || [
      { id: 1, text: "Setup ERPNext project module (or custom backend)", done: false },
      { id: 2, text: "Design DB schema (projects, tasks, milestones, comments)", done: false },
      { id: 3, text: "Develop Project API endpoints", done: false },
      { id: 4, text: "Implement Task management (CRUD)", done: false },
      { id: 5, text: "Add Milestone & Gantt/Kanban views", done: false },
      { id: 6, text: "Enable user roles & permissions", done: false },
      { id: 7, text: "Integrate with Attendance & HR module", done: false },
      { id: 8, text: "Testing (unit, integration, workflow)", done: false },
      { id: 9, text: "Deployment & API docs", done: false },
      { id: 10, text: "Final Documentation & Training", done: false }
    ];

    function toggleTask(id) {
      const task = tasks.find(t => t.id === id);
      task.done = !task.done;
      localStorage.setItem("projectMgmtTasks", JSON.stringify(tasks));
      renderTasks();
    }

    function renderTasks() {
      const container = document.getElementById("taskList");
      container.innerHTML = "";
      let completed = 0;

      tasks.forEach(task => {
        if (task.done) completed++;
        const div = document.createElement("div");
        div.className = "flex items-center space-x-3 p-2 bg-white rounded shadow mb-2";
        div.innerHTML = `
          <input type="checkbox" ${task.done ? "checked" : ""} 
            onchange="toggleTask(${task.id})" 
            class="w-5 h-5 text-blue-600">
          <span class="${task.done ? "line-through text-gray-400" : ""}">
            ${task.text}
          </span>
        `;
        container.appendChild(div);
      });

      const progress = Math.round((completed / tasks.length) * 100);
      document.getElementById("progressBar").style.width = progress + "%";
      document.getElementById("progressText").innerText = progress + "% Completed";
    }

    window.onload = renderTasks;
  </script>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- Header -->
  <header class="bg-green-700 text-white p-4 shadow-lg">
    <h1 class="text-2xl font-bold">Service: Project Management</h1>
  </header>

  <!-- Tabs -->
  <main class="container mx-auto px-6 py-6">
    <div class="flex border-b border-gray-300 mb-6">
      <button onclick="showTab('overview')" id="btn-overview" class="px-4 py-2 font-semibold text-green-700 border-b-2 border-green-700">Overview</button>
      <button onclick="showTab('developer')" id="btn-developer" class="px-4 py-2 font-semibold text-gray-500 hover:text-green-700">Developer</button>
    </div>

    <!-- Overview Tab -->
    <section id="overview" class="space-y-6">
      <h2 class="text-xl font-bold text-green-700">üìò Overview</h2>
      <p>The Project Management service manages projects, tasks, milestones, and team collaboration.</p>

      <div>
        <h3 class="font-semibold text-lg mb-2">Project Structure</h3>
        <pre class="bg-gray-900 text-green-300 p-4 rounded">
service-project-mgmt/
 ‚îú‚îÄ‚îÄ api/
 ‚îú‚îÄ‚îÄ ui/
 ‚îú‚îÄ‚îÄ db-schema/
 ‚îú‚îÄ‚îÄ integrations/
 ‚îî‚îÄ‚îÄ docs/
        </pre>
      </div>

      <div>
        <h3 class="font-semibold text-lg mb-2">Workflow</h3>
        <ol class="list-decimal ml-6 space-y-1">
          <li>Create project with milestones</li>
          <li>Assign tasks to employees</li>
          <li>Employees log work/time</li>
          <li>System integrates with Attendance & HR</li>
          <li>Progress shown in Kanban/Gantt dashboard</li>
        </ol>
      </div>

      <div>
        <h3 class="font-semibold text-lg mb-2">Architecture Flow</h3>
        <pre class="bg-gray-900 text-green-300 p-4 rounded">
Project API ‚îÄ‚îÄ‚ñ∂ Project DB
     ‚îÇ
     ‚ñº
Unified Dashboard ‚óÄ‚îÄ‚îÄ HR & Attendance Integration
        </pre>
      </div>

      <div>
        <h3 class="font-semibold text-lg mb-2">Service Modules</h3>
        <ul class="list-disc ml-6">
          <li>Project API (create, read, update, delete)</li>
          <li>Task Management (assign, track, complete)</li>
          <li>Milestones & Deadlines</li>
          <li>Kanban & Gantt UI views</li>
          <li>Integration with ERP HR/Attendance</li>
          <li>Role-based permissions</li>
        </ul>
      </div>
    </section>

    <!-- Developer Tab -->
    <section id="developer" class="hidden">
      <h2 class="text-xl font-bold text-green-700 mb-4">üõ†Ô∏è Developer Tasks</h2>

      <div class="bg-gray-200 w-full rounded-full h-6 mb-4">
        <div id="progressBar" class="bg-green-600 h-6 rounded-full" style="width:0%"></div>
      </div>
      <p id="progressText" class="text-sm mb-6">0% Completed</p>

      <div id="taskList" class="space-y-2"></div>
    </section>
  </main>

  <script>
    function showTab(tab) {
      document.getElementById("overview").classList.add("hidden");
      document.getElementById("developer").classList.add("hidden");
      document.getElementById(tab).classList.remove("hidden");

      document.getElementById("btn-overview").classList.remove("text-green-700","border-green-700","border-b-2");
      document.getElementById("btn-overview").classList.add("text-gray-500");

      document.getElementById("btn-developer").classList.remove("text-green-700","border-green-700","border-b-2");
      document.getElementById("btn-developer").classList.add("text-gray-500");

      document.getElementById("btn-"+tab).classList.remove("text-gray-500");
      document.getElementById("btn-"+tab).classList.add("text-green-700","border-green-700","border-b-2");
    }
  </script>
</body>
</html>
